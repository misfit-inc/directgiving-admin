"use strict";angular.module("dgAPI",[]).constant("API_BASE","https://loopback-directgiving.herokuapp.com/api"),angular.module("dgAdminApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ui.router","LocalStorageModule","formly","formlyBootstrap","dgAuth","dgAPI","lbServices","textAngular"]).config(["$stateProvider","$urlRouterProvider","API_BASE","LoopBackResourceProvider","$httpProvider","formlyConfigProvider",function(a,b,c,d,e,f){d.setUrlBase(c),b.otherwise("/login"),a.state("login",{url:"/login",templateUrl:"views/login.html",controller:"LoginCtrl"}).state("signup",{url:"/signup",templateUrl:"views/signup.html",controller:"SignUpCtrl"}).state("admin",{url:"","abstract":!0,templateUrl:"views/admin.html",controller:"AdminCtrl"}).state("admin.dashboard",{url:"/dashboard",views:{adminContent:{templateUrl:"views/dashboard.html",controller:"DashboardCtrl"}}}).state("admin.entries",{url:"/entries",views:{adminContent:{templateUrl:"views/entries.list.html",controller:"EntryListCtrl",resolve:{entries:["Entry",function(a){return a.find()}]}}}}).state("admin.entries.new",{url:"/new",templateUrl:"views/entries.form.html",controller:"EntryFormCtrl",resolve:{entry:function(){return{}}}}).state("admin.entries.edit",{url:"/edit/:entryId",templateUrl:"views/entries.form.html",controller:"EntryFormCtrl",resolve:{entry:["Entry","$stateParams",function(a,b){return a.findById({id:b.entryId})}]}}).state("admin.causes",{url:"/causes",views:{adminContent:{templateUrl:"views/causes.list.html",controller:"CauseListCtrl",resolve:{causes:["Cause","localStorageService",function(a,b){return a.find({filter:{where:{organizationId:b.get("currentUser").organizationId}}})}]}}}}).state("admin.causes.new",{url:"/new",templateUrl:"views/causes.form.html",controller:"CauseFormCtrl",resolve:{cause:function(){return{}},impactGoal:function(){return{}}}}).state("admin.causes.edit",{url:"/edit/:causeId",templateUrl:"views/causes.form.html",controller:"CauseFormCtrl",resolve:{cause:["Cause","$stateParams","$q",function(a,b,c){var d=c.defer();return a.findById({id:b.causeId}).$promise.then(function(a){console.log(a),d.resolve(a)}),d.promise}],impactGoal:["Cause","$stateParams","$q",function(a,b,c){var d=c.defer();return a.impactGoal({id:b.causeId}).$promise.then(function(a){d.resolve(a)},function(){d.resolve(null)}),d.promise}]}}).state("admin.organization",{url:"/organization",views:{adminContent:{templateUrl:"views/organization.html",controller:"OrganizationCtrl",resolve:{organization:["Organization","localStorageService",function(a,b){return a.findOne({filter:{where:{id:b.get("currentUser").organizationId}}})}]}}}}),e.interceptors.push(["$q","$location","LoopBackAuth","localStorageService","$rootScope",function(a,b,c,d,e){return{responseError:function(f){return 401===f.status&&(console.log("not authorized"),c.clearUser(),c.clearStorage(),d.set("currentUser",null),e.currentUser=null,b.nextAfterLogin=b.path(),b.path("/login")),a.reject(f)}}}]),f.setType({name:"texteditor",template:'<text-angular ng-model="model[options.key]"></text-angular>'})}]).controller("BodyCtrl",["$scope","$state",function(a,b){a.isLoginPage=function(){return b.includes("login")||b.includes("signup")}}]),function(a,b,c){var d="/api",e="authorization",f=b.module("lbServices",["ngResource"]);f.factory("Email",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/Emails/:id",{id:"@id"},{});return e.modelName="Email",e}]),f.factory("User",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/Users/:id",{id:"@id"},{prototype$__findById__accessTokens:{params:{fk:"@fk"},url:d+"/Users/:id/accessTokens/:fk",method:"GET"},prototype$__destroyById__accessTokens:{params:{fk:"@fk"},url:d+"/Users/:id/accessTokens/:fk",method:"DELETE"},prototype$__updateById__accessTokens:{params:{fk:"@fk"},url:d+"/Users/:id/accessTokens/:fk",method:"PUT"},prototype$__get__accessTokens:{isArray:!0,url:d+"/Users/:id/accessTokens",method:"GET"},prototype$__create__accessTokens:{url:d+"/Users/:id/accessTokens",method:"POST"},prototype$__delete__accessTokens:{url:d+"/Users/:id/accessTokens",method:"DELETE"},prototype$__count__accessTokens:{url:d+"/Users/:id/accessTokens/count",method:"GET"},create:{url:d+"/Users",method:"POST"},createMany:{isArray:!0,url:d+"/Users",method:"POST"},upsert:{url:d+"/Users",method:"PUT"},exists:{url:d+"/Users/:id/exists",method:"GET"},findById:{url:d+"/Users/:id",method:"GET"},find:{isArray:!0,url:d+"/Users",method:"GET"},findOne:{url:d+"/Users/findOne",method:"GET"},updateAll:{url:d+"/Users/update",method:"POST"},deleteById:{url:d+"/Users/:id",method:"DELETE"},count:{url:d+"/Users/count",method:"GET"},prototype$updateAttributes:{url:d+"/Users/:id",method:"PUT"},createChangeStream:{url:d+"/Users/change-stream",method:"POST"},login:{params:{include:"user"},interceptor:{response:function(a){var c=a.data;return b.setUser(c.id,c.userId,c.user),b.rememberMe=a.config.params.rememberMe!==!1,b.save(),a.resource}},url:d+"/Users/login",method:"POST"},logout:{interceptor:{response:function(a){return b.clearUser(),b.clearStorage(),a.resource}},url:d+"/Users/logout",method:"POST"},confirm:{url:d+"/Users/confirm",method:"GET"},resetPassword:{url:d+"/Users/reset",method:"POST"},"::get::UserCredential::user":{url:d+"/UserCredentials/:id/user",method:"GET"},"::get::UserIdentity::user":{url:d+"/UserIdentities/:id/user",method:"GET"},getCurrent:{url:d+"/Users/:id",method:"GET",params:{id:function(){var a=b.currentUserId;return null==a&&(a="__anonymous__"),a}},interceptor:{response:function(a){return b.currentUserData=a.data,a.resource}},__isGetCurrentUser__:!0}});return e.updateOrCreate=e.upsert,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.getCachedCurrent=function(){var a=b.currentUserData;return a?new e(a):null},e.isAuthenticated=function(){return null!=this.getCurrentId()},e.getCurrentId=function(){return b.currentUserId},e.modelName="User",e}]),f.factory("Donor",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/donors/:id",{id:"@id"},{prototype$__findById__accessTokens:{params:{fk:"@fk"},url:d+"/donors/:id/accessTokens/:fk",method:"GET"},prototype$__destroyById__accessTokens:{params:{fk:"@fk"},url:d+"/donors/:id/accessTokens/:fk",method:"DELETE"},prototype$__updateById__accessTokens:{params:{fk:"@fk"},url:d+"/donors/:id/accessTokens/:fk",method:"PUT"},prototype$__findById__causes:{params:{fk:"@fk"},url:d+"/donors/:id/causes/:fk",method:"GET"},prototype$__destroyById__causes:{params:{fk:"@fk"},url:d+"/donors/:id/causes/:fk",method:"DELETE"},prototype$__updateById__causes:{params:{fk:"@fk"},url:d+"/donors/:id/causes/:fk",method:"PUT"},prototype$__link__causes:{params:{fk:"@fk"},url:d+"/donors/:id/causes/rel/:fk",method:"PUT"},prototype$__unlink__causes:{params:{fk:"@fk"},url:d+"/donors/:id/causes/rel/:fk",method:"DELETE"},prototype$__exists__causes:{params:{fk:"@fk"},url:d+"/donors/:id/causes/rel/:fk",method:"HEAD"},prototype$__findById__waitingForContentFrom:{params:{fk:"@fk"},url:d+"/donors/:id/waitingForContentFrom/:fk",method:"GET"},prototype$__destroyById__waitingForContentFrom:{params:{fk:"@fk"},url:d+"/donors/:id/waitingForContentFrom/:fk",method:"DELETE"},prototype$__updateById__waitingForContentFrom:{params:{fk:"@fk"},url:d+"/donors/:id/waitingForContentFrom/:fk",method:"PUT"},prototype$__findById__entries:{params:{fk:"@fk"},url:d+"/donors/:id/entries/:fk",method:"GET"},prototype$__destroyById__entries:{params:{fk:"@fk"},url:d+"/donors/:id/entries/:fk",method:"DELETE"},prototype$__updateById__entries:{params:{fk:"@fk"},url:d+"/donors/:id/entries/:fk",method:"PUT"},prototype$__findById__identities:{params:{fk:"@fk"},url:d+"/donors/:id/identities/:fk",method:"GET"},prototype$__destroyById__identities:{params:{fk:"@fk"},url:d+"/donors/:id/identities/:fk",method:"DELETE"},prototype$__updateById__identities:{params:{fk:"@fk"},url:d+"/donors/:id/identities/:fk",method:"PUT"},prototype$__findById__credentials:{params:{fk:"@fk"},url:d+"/donors/:id/credentials/:fk",method:"GET"},prototype$__destroyById__credentials:{params:{fk:"@fk"},url:d+"/donors/:id/credentials/:fk",method:"DELETE"},prototype$__updateById__credentials:{params:{fk:"@fk"},url:d+"/donors/:id/credentials/:fk",method:"PUT"},prototype$__get__accessTokens:{isArray:!0,url:d+"/donors/:id/accessTokens",method:"GET"},prototype$__create__accessTokens:{url:d+"/donors/:id/accessTokens",method:"POST"},prototype$__delete__accessTokens:{url:d+"/donors/:id/accessTokens",method:"DELETE"},prototype$__count__accessTokens:{url:d+"/donors/:id/accessTokens/count",method:"GET"},prototype$__get__causes:{isArray:!0,url:d+"/donors/:id/causes",method:"GET"},prototype$__create__causes:{url:d+"/donors/:id/causes",method:"POST"},prototype$__delete__causes:{url:d+"/donors/:id/causes",method:"DELETE"},prototype$__count__causes:{url:d+"/donors/:id/causes/count",method:"GET"},prototype$__get__waitingForContentFrom:{isArray:!0,url:d+"/donors/:id/waitingForContentFrom",method:"GET"},prototype$__create__waitingForContentFrom:{url:d+"/donors/:id/waitingForContentFrom",method:"POST"},prototype$__delete__waitingForContentFrom:{url:d+"/donors/:id/waitingForContentFrom",method:"DELETE"},prototype$__count__waitingForContentFrom:{url:d+"/donors/:id/waitingForContentFrom/count",method:"GET"},prototype$__get__entries:{isArray:!0,url:d+"/donors/:id/entries",method:"GET"},prototype$__create__entries:{url:d+"/donors/:id/entries",method:"POST"},prototype$__delete__entries:{url:d+"/donors/:id/entries",method:"DELETE"},prototype$__count__entries:{url:d+"/donors/:id/entries/count",method:"GET"},prototype$__get__identities:{isArray:!0,url:d+"/donors/:id/identities",method:"GET"},prototype$__create__identities:{url:d+"/donors/:id/identities",method:"POST"},prototype$__delete__identities:{url:d+"/donors/:id/identities",method:"DELETE"},prototype$__count__identities:{url:d+"/donors/:id/identities/count",method:"GET"},prototype$__get__credentials:{isArray:!0,url:d+"/donors/:id/credentials",method:"GET"},prototype$__create__credentials:{url:d+"/donors/:id/credentials",method:"POST"},prototype$__delete__credentials:{url:d+"/donors/:id/credentials",method:"DELETE"},prototype$__count__credentials:{url:d+"/donors/:id/credentials/count",method:"GET"},create:{url:d+"/donors",method:"POST"},createMany:{isArray:!0,url:d+"/donors",method:"POST"},upsert:{url:d+"/donors",method:"PUT"},exists:{url:d+"/donors/:id/exists",method:"GET"},findById:{url:d+"/donors/:id",method:"GET"},find:{isArray:!0,url:d+"/donors",method:"GET"},findOne:{url:d+"/donors/findOne",method:"GET"},updateAll:{url:d+"/donors/update",method:"POST"},deleteById:{url:d+"/donors/:id",method:"DELETE"},count:{url:d+"/donors/count",method:"GET"},prototype$updateAttributes:{url:d+"/donors/:id",method:"PUT"},createChangeStream:{url:d+"/donors/change-stream",method:"POST"},login:{params:{include:"user"},interceptor:{response:function(a){var c=a.data;return b.setUser(c.id,c.userId,c.user),b.rememberMe=a.config.params.rememberMe!==!1,b.save(),a.resource}},url:d+"/donors/login",method:"POST"},logout:{interceptor:{response:function(a){return b.clearUser(),b.clearStorage(),a.resource}},url:d+"/donors/logout",method:"POST"},confirm:{url:d+"/donors/confirm",method:"GET"},resetPassword:{url:d+"/donors/reset",method:"POST"},"::findById::Cause::donors":{params:{fk:"@fk"},url:d+"/Causes/:id/donors/:fk",method:"GET"},"::destroyById::Cause::donors":{params:{fk:"@fk"},url:d+"/Causes/:id/donors/:fk",method:"DELETE"},"::updateById::Cause::donors":{params:{fk:"@fk"},url:d+"/Causes/:id/donors/:fk",method:"PUT"},"::get::Cause::donors":{isArray:!0,url:d+"/Causes/:id/donors",method:"GET"},"::create::Cause::donors":{url:d+"/Causes/:id/donors",method:"POST"},"::createMany::Cause::donors":{isArray:!0,url:d+"/Causes/:id/donors",method:"POST"},"::delete::Cause::donors":{url:d+"/Causes/:id/donors",method:"DELETE"},"::count::Cause::donors":{url:d+"/Causes/:id/donors/count",method:"GET"},"::get::entry::donor":{url:d+"/entries/:id/donor",method:"GET"},"::get::Donation::donor":{url:d+"/Donations/:id/donor",method:"GET"},getCurrent:{url:d+"/donors/:id",method:"GET",params:{id:function(){var a=b.currentUserId;return null==a&&(a="__anonymous__"),a}},interceptor:{response:function(a){return b.currentUserData=a.data,a.resource}},__isGetCurrentUser__:!0}});return e.updateOrCreate=e.upsert,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.getCachedCurrent=function(){var a=b.currentUserData;return a?new e(a):null},e.isAuthenticated=function(){return null!=this.getCurrentId()},e.getCurrentId=function(){return b.currentUserId},e.modelName="Donor",e.causes=function(){var a=c.get("Cause"),b=a["::get::donor::causes"];return b.apply(e,arguments)},e.causes.count=function(){var a=c.get("Cause"),b=a["::count::donor::causes"];return b.apply(e,arguments)},e.causes.create=function(){var a=c.get("Cause"),b=a["::create::donor::causes"];return b.apply(e,arguments)},e.causes.createMany=function(){var a=c.get("Cause"),b=a["::createMany::donor::causes"];return b.apply(e,arguments)},e.causes.destroyAll=function(){var a=c.get("Cause"),b=a["::delete::donor::causes"];return b.apply(e,arguments)},e.causes.destroyById=function(){var a=c.get("Cause"),b=a["::destroyById::donor::causes"];return b.apply(e,arguments)},e.causes.exists=function(){var a=c.get("Cause"),b=a["::exists::donor::causes"];return b.apply(e,arguments)},e.causes.findById=function(){var a=c.get("Cause"),b=a["::findById::donor::causes"];return b.apply(e,arguments)},e.causes.link=function(){var a=c.get("Cause"),b=a["::link::donor::causes"];return b.apply(e,arguments)},e.causes.unlink=function(){var a=c.get("Cause"),b=a["::unlink::donor::causes"];return b.apply(e,arguments)},e.causes.updateById=function(){var a=c.get("Cause"),b=a["::updateById::donor::causes"];return b.apply(e,arguments)},e.waitingForContentFrom=function(){var a=c.get("Cause"),b=a["::get::donor::waitingForContentFrom"];return b.apply(e,arguments)},e.waitingForContentFrom.count=function(){var a=c.get("Cause"),b=a["::count::donor::waitingForContentFrom"];return b.apply(e,arguments)},e.waitingForContentFrom.create=function(){var a=c.get("Cause"),b=a["::create::donor::waitingForContentFrom"];return b.apply(e,arguments)},e.waitingForContentFrom.createMany=function(){var a=c.get("Cause"),b=a["::createMany::donor::waitingForContentFrom"];return b.apply(e,arguments)},e.waitingForContentFrom.destroyAll=function(){var a=c.get("Cause"),b=a["::delete::donor::waitingForContentFrom"];return b.apply(e,arguments)},e.waitingForContentFrom.destroyById=function(){var a=c.get("Cause"),b=a["::destroyById::donor::waitingForContentFrom"];return b.apply(e,arguments)},e.waitingForContentFrom.findById=function(){var a=c.get("Cause"),b=a["::findById::donor::waitingForContentFrom"];return b.apply(e,arguments)},e.waitingForContentFrom.updateById=function(){var a=c.get("Cause"),b=a["::updateById::donor::waitingForContentFrom"];return b.apply(e,arguments)},e.entries=function(){var a=c.get("Entry"),b=a["::get::donor::entries"];return b.apply(e,arguments)},e.entries.count=function(){var a=c.get("Entry"),b=a["::count::donor::entries"];return b.apply(e,arguments)},e.entries.create=function(){var a=c.get("Entry"),b=a["::create::donor::entries"];return b.apply(e,arguments)},e.entries.createMany=function(){var a=c.get("Entry"),b=a["::createMany::donor::entries"];return b.apply(e,arguments)},e.entries.destroyAll=function(){var a=c.get("Entry"),b=a["::delete::donor::entries"];return b.apply(e,arguments)},e.entries.destroyById=function(){var a=c.get("Entry"),b=a["::destroyById::donor::entries"];return b.apply(e,arguments)},e.entries.findById=function(){var a=c.get("Entry"),b=a["::findById::donor::entries"];return b.apply(e,arguments)},e.entries.updateById=function(){var a=c.get("Entry"),b=a["::updateById::donor::entries"];return b.apply(e,arguments)},e.identities=function(){var a=c.get("UserIdentity"),b=a["::get::donor::identities"];return b.apply(e,arguments)},e.identities.count=function(){var a=c.get("UserIdentity"),b=a["::count::donor::identities"];return b.apply(e,arguments)},e.identities.create=function(){var a=c.get("UserIdentity"),b=a["::create::donor::identities"];return b.apply(e,arguments)},e.identities.createMany=function(){var a=c.get("UserIdentity"),b=a["::createMany::donor::identities"];return b.apply(e,arguments)},e.identities.destroyAll=function(){var a=c.get("UserIdentity"),b=a["::delete::donor::identities"];return b.apply(e,arguments)},e.identities.destroyById=function(){var a=c.get("UserIdentity"),b=a["::destroyById::donor::identities"];return b.apply(e,arguments)},e.identities.findById=function(){var a=c.get("UserIdentity"),b=a["::findById::donor::identities"];return b.apply(e,arguments)},e.identities.updateById=function(){var a=c.get("UserIdentity"),b=a["::updateById::donor::identities"];return b.apply(e,arguments)},e.credentials=function(){var a=c.get("UserCredential"),b=a["::get::donor::credentials"];return b.apply(e,arguments)},e.credentials.count=function(){var a=c.get("UserCredential"),b=a["::count::donor::credentials"];return b.apply(e,arguments)},e.credentials.create=function(){var a=c.get("UserCredential"),b=a["::create::donor::credentials"];return b.apply(e,arguments)},e.credentials.createMany=function(){var a=c.get("UserCredential"),b=a["::createMany::donor::credentials"];return b.apply(e,arguments)},e.credentials.destroyAll=function(){var a=c.get("UserCredential"),b=a["::delete::donor::credentials"];return b.apply(e,arguments)},e.credentials.destroyById=function(){var a=c.get("UserCredential"),b=a["::destroyById::donor::credentials"];return b.apply(e,arguments)},e.credentials.findById=function(){var a=c.get("UserCredential"),b=a["::findById::donor::credentials"];return b.apply(e,arguments)},e.credentials.updateById=function(){var a=c.get("UserCredential"),b=a["::updateById::donor::credentials"];return b.apply(e,arguments)},e}]),f.factory("UserCredential",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/UserCredentials/:id",{id:"@id"},{prototype$__get__user:{url:d+"/UserCredentials/:id/user",method:"GET"},create:{url:d+"/UserCredentials",method:"POST"},createMany:{isArray:!0,url:d+"/UserCredentials",method:"POST"},upsert:{url:d+"/UserCredentials",method:"PUT"},exists:{url:d+"/UserCredentials/:id/exists",method:"GET"},findById:{url:d+"/UserCredentials/:id",method:"GET"},find:{isArray:!0,url:d+"/UserCredentials",method:"GET"},findOne:{url:d+"/UserCredentials/findOne",method:"GET"},updateAll:{url:d+"/UserCredentials/update",method:"POST"},deleteById:{url:d+"/UserCredentials/:id",method:"DELETE"},count:{url:d+"/UserCredentials/count",method:"GET"},prototype$updateAttributes:{url:d+"/UserCredentials/:id",method:"PUT"},createChangeStream:{url:d+"/UserCredentials/change-stream",method:"POST"},"::findById::donor::credentials":{params:{fk:"@fk"},url:d+"/donors/:id/credentials/:fk",method:"GET"},"::destroyById::donor::credentials":{params:{fk:"@fk"},url:d+"/donors/:id/credentials/:fk",method:"DELETE"},"::updateById::donor::credentials":{params:{fk:"@fk"},url:d+"/donors/:id/credentials/:fk",method:"PUT"},"::get::donor::credentials":{isArray:!0,url:d+"/donors/:id/credentials",method:"GET"},"::create::donor::credentials":{url:d+"/donors/:id/credentials",method:"POST"},"::createMany::donor::credentials":{isArray:!0,url:d+"/donors/:id/credentials",method:"POST"},"::delete::donor::credentials":{url:d+"/donors/:id/credentials",method:"DELETE"},"::count::donor::credentials":{url:d+"/donors/:id/credentials/count",method:"GET"}});return e.updateOrCreate=e.upsert,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.modelName="UserCredential",e.user=function(){var a=c.get("User"),b=a["::get::UserCredential::user"];return b.apply(e,arguments)},e}]),f.factory("UserIdentity",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/UserIdentities/:id",{id:"@id"},{prototype$__get__user:{url:d+"/UserIdentities/:id/user",method:"GET"},create:{url:d+"/UserIdentities",method:"POST"},createMany:{isArray:!0,url:d+"/UserIdentities",method:"POST"},upsert:{url:d+"/UserIdentities",method:"PUT"},exists:{url:d+"/UserIdentities/:id/exists",method:"GET"},findById:{url:d+"/UserIdentities/:id",method:"GET"},find:{isArray:!0,url:d+"/UserIdentities",method:"GET"},findOne:{url:d+"/UserIdentities/findOne",method:"GET"},updateAll:{url:d+"/UserIdentities/update",method:"POST"},deleteById:{url:d+"/UserIdentities/:id",method:"DELETE"},count:{url:d+"/UserIdentities/count",method:"GET"},prototype$updateAttributes:{url:d+"/UserIdentities/:id",method:"PUT"},createChangeStream:{url:d+"/UserIdentities/change-stream",method:"POST"},"::findById::donor::identities":{params:{fk:"@fk"},url:d+"/donors/:id/identities/:fk",method:"GET"},"::destroyById::donor::identities":{params:{fk:"@fk"},url:d+"/donors/:id/identities/:fk",method:"DELETE"},"::updateById::donor::identities":{params:{fk:"@fk"},url:d+"/donors/:id/identities/:fk",method:"PUT"},"::get::donor::identities":{isArray:!0,url:d+"/donors/:id/identities",method:"GET"},"::create::donor::identities":{url:d+"/donors/:id/identities",method:"POST"},"::createMany::donor::identities":{isArray:!0,url:d+"/donors/:id/identities",method:"POST"},"::delete::donor::identities":{url:d+"/donors/:id/identities",method:"DELETE"},"::count::donor::identities":{url:d+"/donors/:id/identities/count",method:"GET"}});return e.updateOrCreate=e.upsert,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.modelName="UserIdentity",e.user=function(){var a=c.get("User"),b=a["::get::UserIdentity::user"];return b.apply(e,arguments)},e}]),f.factory("Cause",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/Causes/:id",{id:"@id"},{prototype$__findById__donors:{params:{fk:"@fk"},url:d+"/Causes/:id/donors/:fk",method:"GET"},prototype$__destroyById__donors:{params:{fk:"@fk"},url:d+"/Causes/:id/donors/:fk",method:"DELETE"},prototype$__updateById__donors:{params:{fk:"@fk"},url:d+"/Causes/:id/donors/:fk",method:"PUT"},prototype$__get__impactGoal:{url:d+"/Causes/:id/impactGoal",method:"GET"},prototype$__create__impactGoal:{url:d+"/Causes/:id/impactGoal",method:"POST"},prototype$__update__impactGoal:{url:d+"/Causes/:id/impactGoal",method:"PUT"},prototype$__destroy__impactGoal:{url:d+"/Causes/:id/impactGoal",method:"DELETE"},prototype$__findById__entry:{params:{fk:"@fk"},url:d+"/Causes/:id/entry/:fk",method:"GET"},prototype$__destroyById__entry:{params:{fk:"@fk"},url:d+"/Causes/:id/entry/:fk",method:"DELETE"},prototype$__updateById__entry:{params:{fk:"@fk"},url:d+"/Causes/:id/entry/:fk",method:"PUT"},prototype$__get__organization:{url:d+"/Causes/:id/organization",method:"GET"},prototype$__findById__donations:{params:{fk:"@fk"},url:d+"/Causes/:id/donations/:fk",method:"GET"},prototype$__destroyById__donations:{params:{fk:"@fk"},url:d+"/Causes/:id/donations/:fk",method:"DELETE"},prototype$__updateById__donations:{params:{fk:"@fk"},url:d+"/Causes/:id/donations/:fk",method:"PUT"},prototype$__link__donations:{params:{fk:"@fk"},url:d+"/Causes/:id/donations/rel/:fk",method:"PUT"},prototype$__unlink__donations:{params:{fk:"@fk"},url:d+"/Causes/:id/donations/rel/:fk",method:"DELETE"},prototype$__exists__donations:{params:{fk:"@fk"},url:d+"/Causes/:id/donations/rel/:fk",method:"HEAD"},prototype$__get__entryTemplates:{url:d+"/Causes/:id/entryTemplates",method:"GET"},prototype$__create__entryTemplates:{url:d+"/Causes/:id/entryTemplates",method:"POST"},prototype$__update__entryTemplates:{url:d+"/Causes/:id/entryTemplates",method:"PUT"},prototype$__destroy__entryTemplates:{url:d+"/Causes/:id/entryTemplates",method:"DELETE"},prototype$__get__donors:{isArray:!0,url:d+"/Causes/:id/donors",method:"GET"},prototype$__create__donors:{url:d+"/Causes/:id/donors",method:"POST"},prototype$__delete__donors:{url:d+"/Causes/:id/donors",method:"DELETE"},prototype$__count__donors:{url:d+"/Causes/:id/donors/count",method:"GET"},prototype$__get__entry:{isArray:!0,url:d+"/Causes/:id/entry",method:"GET"},prototype$__create__entry:{url:d+"/Causes/:id/entry",method:"POST"},prototype$__delete__entry:{url:d+"/Causes/:id/entry",method:"DELETE"},prototype$__count__entry:{url:d+"/Causes/:id/entry/count",method:"GET"},prototype$__get__donations:{isArray:!0,url:d+"/Causes/:id/donations",method:"GET"},prototype$__create__donations:{url:d+"/Causes/:id/donations",method:"POST"},prototype$__delete__donations:{url:d+"/Causes/:id/donations",method:"DELETE"},prototype$__count__donations:{url:d+"/Causes/:id/donations/count",method:"GET"},create:{url:d+"/Causes",method:"POST"},createMany:{isArray:!0,url:d+"/Causes",method:"POST"},upsert:{url:d+"/Causes",method:"PUT"},exists:{url:d+"/Causes/:id/exists",method:"GET"},findById:{url:d+"/Causes/:id",method:"GET"},find:{isArray:!0,url:d+"/Causes",method:"GET"},findOne:{url:d+"/Causes/findOne",method:"GET"},updateAll:{url:d+"/Causes/update",method:"POST"},deleteById:{url:d+"/Causes/:id",method:"DELETE"},count:{url:d+"/Causes/count",method:"GET"},prototype$updateAttributes:{url:d+"/Causes/:id",method:"PUT"},createChangeStream:{url:d+"/Causes/change-stream",method:"POST"},"::findById::donor::causes":{params:{fk:"@fk"},url:d+"/donors/:id/causes/:fk",method:"GET"},"::destroyById::donor::causes":{params:{fk:"@fk"},url:d+"/donors/:id/causes/:fk",method:"DELETE"},"::updateById::donor::causes":{params:{fk:"@fk"},url:d+"/donors/:id/causes/:fk",method:"PUT"},"::link::donor::causes":{params:{fk:"@fk"},url:d+"/donors/:id/causes/rel/:fk",method:"PUT"},"::unlink::donor::causes":{params:{fk:"@fk"},url:d+"/donors/:id/causes/rel/:fk",method:"DELETE"},"::exists::donor::causes":{params:{fk:"@fk"},url:d+"/donors/:id/causes/rel/:fk",method:"HEAD"},"::findById::donor::waitingForContentFrom":{params:{fk:"@fk"},url:d+"/donors/:id/waitingForContentFrom/:fk",method:"GET"},"::destroyById::donor::waitingForContentFrom":{params:{fk:"@fk"},url:d+"/donors/:id/waitingForContentFrom/:fk",method:"DELETE"},"::updateById::donor::waitingForContentFrom":{params:{fk:"@fk"},url:d+"/donors/:id/waitingForContentFrom/:fk",method:"PUT"},"::get::donor::causes":{isArray:!0,url:d+"/donors/:id/causes",method:"GET"},"::create::donor::causes":{url:d+"/donors/:id/causes",method:"POST"},"::createMany::donor::causes":{isArray:!0,url:d+"/donors/:id/causes",method:"POST"},"::delete::donor::causes":{url:d+"/donors/:id/causes",method:"DELETE"},"::count::donor::causes":{url:d+"/donors/:id/causes/count",method:"GET"},"::get::donor::waitingForContentFrom":{isArray:!0,url:d+"/donors/:id/waitingForContentFrom",method:"GET"},"::create::donor::waitingForContentFrom":{url:d+"/donors/:id/waitingForContentFrom",method:"POST"},"::createMany::donor::waitingForContentFrom":{isArray:!0,url:d+"/donors/:id/waitingForContentFrom",method:"POST"},"::delete::donor::waitingForContentFrom":{url:d+"/donors/:id/waitingForContentFrom",method:"DELETE"},"::count::donor::waitingForContentFrom":{url:d+"/donors/:id/waitingForContentFrom/count",method:"GET"},"::findById::organization::causes":{params:{fk:"@fk"},url:d+"/organizations/:id/causes/:fk",method:"GET"},"::destroyById::organization::causes":{params:{fk:"@fk"},url:d+"/organizations/:id/causes/:fk",method:"DELETE"},"::updateById::organization::causes":{params:{fk:"@fk"},url:d+"/organizations/:id/causes/:fk",method:"PUT"},"::get::organization::causes":{isArray:!0,url:d+"/organizations/:id/causes",method:"GET"},"::create::organization::causes":{url:d+"/organizations/:id/causes",method:"POST"},"::createMany::organization::causes":{isArray:!0,url:d+"/organizations/:id/causes",method:"POST"},"::delete::organization::causes":{url:d+"/organizations/:id/causes",method:"DELETE"},"::count::organization::causes":{url:d+"/organizations/:id/causes/count",method:"GET"},"::get::Donation::cause":{url:d+"/Donations/:id/cause",method:"GET"},"::get::EntryTemplate::cause":{url:d+"/EntryTemplates/:id/cause",method:"GET"}});return e.updateOrCreate=e.upsert,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.modelName="Cause",e.donors=function(){var a=c.get("Donor"),b=a["::get::Cause::donors"];return b.apply(e,arguments)},e.donors.count=function(){var a=c.get("Donor"),b=a["::count::Cause::donors"];return b.apply(e,arguments)},e.donors.create=function(){var a=c.get("Donor"),b=a["::create::Cause::donors"];return b.apply(e,arguments)},e.donors.createMany=function(){var a=c.get("Donor"),b=a["::createMany::Cause::donors"];return b.apply(e,arguments)},e.donors.destroyAll=function(){var a=c.get("Donor"),b=a["::delete::Cause::donors"];return b.apply(e,arguments)},e.donors.destroyById=function(){var a=c.get("Donor"),b=a["::destroyById::Cause::donors"];return b.apply(e,arguments)},e.donors.findById=function(){var a=c.get("Donor"),b=a["::findById::Cause::donors"];return b.apply(e,arguments)},e.donors.updateById=function(){var a=c.get("Donor"),b=a["::updateById::Cause::donors"];return b.apply(e,arguments)},e.impactGoal=function(){var a=c.get("ImpactGoal"),b=a["::get::Cause::impactGoal"];return b.apply(e,arguments)},e.impactGoal.create=function(){var a=c.get("ImpactGoal"),b=a["::create::Cause::impactGoal"];return b.apply(e,arguments)},e.impactGoal.createMany=function(){var a=c.get("ImpactGoal"),b=a["::createMany::Cause::impactGoal"];return b.apply(e,arguments)},e.impactGoal.destroy=function(){var a=c.get("ImpactGoal"),b=a["::destroy::Cause::impactGoal"];return b.apply(e,arguments)},e.impactGoal.update=function(){var a=c.get("ImpactGoal"),b=a["::update::Cause::impactGoal"];return b.apply(e,arguments)},e.entry=function(){var a=c.get("Entry"),b=a["::get::Cause::entry"];return b.apply(e,arguments)},e.entry.count=function(){var a=c.get("Entry"),b=a["::count::Cause::entry"];return b.apply(e,arguments)},e.entry.create=function(){var a=c.get("Entry"),b=a["::create::Cause::entry"];return b.apply(e,arguments)},e.entry.createMany=function(){var a=c.get("Entry"),b=a["::createMany::Cause::entry"];return b.apply(e,arguments)},e.entry.destroyAll=function(){var a=c.get("Entry"),b=a["::delete::Cause::entry"];return b.apply(e,arguments)},e.entry.destroyById=function(){var a=c.get("Entry"),b=a["::destroyById::Cause::entry"];return b.apply(e,arguments)},e.entry.findById=function(){var a=c.get("Entry"),b=a["::findById::Cause::entry"];return b.apply(e,arguments)},e.entry.updateById=function(){var a=c.get("Entry"),b=a["::updateById::Cause::entry"];return b.apply(e,arguments)},e.organization=function(){var a=c.get("Organization"),b=a["::get::Cause::organization"];return b.apply(e,arguments)},e.donations=function(){var a=c.get("Donation"),b=a["::get::Cause::donations"];return b.apply(e,arguments)},e.donations.count=function(){var a=c.get("Donation"),b=a["::count::Cause::donations"];return b.apply(e,arguments)},e.donations.create=function(){var a=c.get("Donation"),b=a["::create::Cause::donations"];return b.apply(e,arguments)},e.donations.createMany=function(){var a=c.get("Donation"),b=a["::createMany::Cause::donations"];return b.apply(e,arguments)},e.donations.destroyAll=function(){var a=c.get("Donation"),b=a["::delete::Cause::donations"];return b.apply(e,arguments)},e.donations.destroyById=function(){var a=c.get("Donation"),b=a["::destroyById::Cause::donations"];return b.apply(e,arguments)},e.donations.exists=function(){var a=c.get("Donation"),b=a["::exists::Cause::donations"];return b.apply(e,arguments)},e.donations.findById=function(){var a=c.get("Donation"),b=a["::findById::Cause::donations"];return b.apply(e,arguments)},e.donations.link=function(){var a=c.get("Donation"),b=a["::link::Cause::donations"];return b.apply(e,arguments)},e.donations.unlink=function(){var a=c.get("Donation"),b=a["::unlink::Cause::donations"];return b.apply(e,arguments)},e.donations.updateById=function(){var a=c.get("Donation"),b=a["::updateById::Cause::donations"];return b.apply(e,arguments)},e.entryTemplates=function(){var a=c.get("EntryTemplate"),b=a["::get::Cause::entryTemplates"];return b.apply(e,arguments)},e.entryTemplates.create=function(){
var a=c.get("EntryTemplate"),b=a["::create::Cause::entryTemplates"];return b.apply(e,arguments)},e.entryTemplates.createMany=function(){var a=c.get("EntryTemplate"),b=a["::createMany::Cause::entryTemplates"];return b.apply(e,arguments)},e.entryTemplates.destroy=function(){var a=c.get("EntryTemplate"),b=a["::destroy::Cause::entryTemplates"];return b.apply(e,arguments)},e.entryTemplates.update=function(){var a=c.get("EntryTemplate"),b=a["::update::Cause::entryTemplates"];return b.apply(e,arguments)},e}]),f.factory("ImpactGoal",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/impactGoals/:id",{id:"@id"},{create:{url:d+"/impactGoals",method:"POST"},createMany:{isArray:!0,url:d+"/impactGoals",method:"POST"},upsert:{url:d+"/impactGoals",method:"PUT"},exists:{url:d+"/impactGoals/:id/exists",method:"GET"},findById:{url:d+"/impactGoals/:id",method:"GET"},find:{isArray:!0,url:d+"/impactGoals",method:"GET"},findOne:{url:d+"/impactGoals/findOne",method:"GET"},updateAll:{url:d+"/impactGoals/update",method:"POST"},deleteById:{url:d+"/impactGoals/:id",method:"DELETE"},count:{url:d+"/impactGoals/count",method:"GET"},prototype$updateAttributes:{url:d+"/impactGoals/:id",method:"PUT"},createChangeStream:{url:d+"/impactGoals/change-stream",method:"POST"},"::get::Cause::impactGoal":{url:d+"/Causes/:id/impactGoal",method:"GET"},"::create::Cause::impactGoal":{url:d+"/Causes/:id/impactGoal",method:"POST"},"::createMany::Cause::impactGoal":{isArray:!0,url:d+"/Causes/:id/impactGoal",method:"POST"},"::update::Cause::impactGoal":{url:d+"/Causes/:id/impactGoal",method:"PUT"},"::destroy::Cause::impactGoal":{url:d+"/Causes/:id/impactGoal",method:"DELETE"}});return e.updateOrCreate=e.upsert,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.modelName="ImpactGoal",e}]),f.factory("Entry",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/entries/:id",{id:"@id"},{prototype$__get__donor:{url:d+"/entries/:id/donor",method:"GET"},prototype$__findById__customFields:{params:{fk:"@fk"},url:d+"/entries/:id/customFields/:fk",method:"GET"},prototype$__destroyById__customFields:{params:{fk:"@fk"},url:d+"/entries/:id/customFields/:fk",method:"DELETE"},prototype$__updateById__customFields:{params:{fk:"@fk"},url:d+"/entries/:id/customFields/:fk",method:"PUT"},prototype$__get__customFields:{isArray:!0,url:d+"/entries/:id/customFields",method:"GET"},prototype$__create__customFields:{url:d+"/entries/:id/customFields",method:"POST"},prototype$__delete__customFields:{url:d+"/entries/:id/customFields",method:"DELETE"},prototype$__count__customFields:{url:d+"/entries/:id/customFields/count",method:"GET"},create:{url:d+"/entries",method:"POST"},createMany:{isArray:!0,url:d+"/entries",method:"POST"},upsert:{url:d+"/entries",method:"PUT"},exists:{url:d+"/entries/:id/exists",method:"GET"},findById:{url:d+"/entries/:id",method:"GET"},find:{isArray:!0,url:d+"/entries",method:"GET"},findOne:{url:d+"/entries/findOne",method:"GET"},updateAll:{url:d+"/entries/update",method:"POST"},deleteById:{url:d+"/entries/:id",method:"DELETE"},count:{url:d+"/entries/count",method:"GET"},prototype$updateAttributes:{url:d+"/entries/:id",method:"PUT"},createChangeStream:{url:d+"/entries/change-stream",method:"POST"},"::findById::donor::entries":{params:{fk:"@fk"},url:d+"/donors/:id/entries/:fk",method:"GET"},"::destroyById::donor::entries":{params:{fk:"@fk"},url:d+"/donors/:id/entries/:fk",method:"DELETE"},"::updateById::donor::entries":{params:{fk:"@fk"},url:d+"/donors/:id/entries/:fk",method:"PUT"},"::get::donor::entries":{isArray:!0,url:d+"/donors/:id/entries",method:"GET"},"::create::donor::entries":{url:d+"/donors/:id/entries",method:"POST"},"::createMany::donor::entries":{isArray:!0,url:d+"/donors/:id/entries",method:"POST"},"::delete::donor::entries":{url:d+"/donors/:id/entries",method:"DELETE"},"::count::donor::entries":{url:d+"/donors/:id/entries/count",method:"GET"},"::findById::Cause::entry":{params:{fk:"@fk"},url:d+"/Causes/:id/entry/:fk",method:"GET"},"::destroyById::Cause::entry":{params:{fk:"@fk"},url:d+"/Causes/:id/entry/:fk",method:"DELETE"},"::updateById::Cause::entry":{params:{fk:"@fk"},url:d+"/Causes/:id/entry/:fk",method:"PUT"},"::get::Cause::entry":{isArray:!0,url:d+"/Causes/:id/entry",method:"GET"},"::create::Cause::entry":{url:d+"/Causes/:id/entry",method:"POST"},"::createMany::Cause::entry":{isArray:!0,url:d+"/Causes/:id/entry",method:"POST"},"::delete::Cause::entry":{url:d+"/Causes/:id/entry",method:"DELETE"},"::count::Cause::entry":{url:d+"/Causes/:id/entry/count",method:"GET"},"::findById::organization::entries":{params:{fk:"@fk"},url:d+"/organizations/:id/entries/:fk",method:"GET"},"::destroyById::organization::entries":{params:{fk:"@fk"},url:d+"/organizations/:id/entries/:fk",method:"DELETE"},"::updateById::organization::entries":{params:{fk:"@fk"},url:d+"/organizations/:id/entries/:fk",method:"PUT"},"::link::organization::entries":{params:{fk:"@fk"},url:d+"/organizations/:id/entries/rel/:fk",method:"PUT"},"::unlink::organization::entries":{params:{fk:"@fk"},url:d+"/organizations/:id/entries/rel/:fk",method:"DELETE"},"::exists::organization::entries":{params:{fk:"@fk"},url:d+"/organizations/:id/entries/rel/:fk",method:"HEAD"},"::get::organization::entries":{isArray:!0,url:d+"/organizations/:id/entries",method:"GET"},"::create::organization::entries":{url:d+"/organizations/:id/entries",method:"POST"},"::createMany::organization::entries":{isArray:!0,url:d+"/organizations/:id/entries",method:"POST"},"::delete::organization::entries":{url:d+"/organizations/:id/entries",method:"DELETE"},"::count::organization::entries":{url:d+"/organizations/:id/entries/count",method:"GET"}});return e.updateOrCreate=e.upsert,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.modelName="Entry",e.donor=function(){var a=c.get("Donor"),b=a["::get::entry::donor"];return b.apply(e,arguments)},e.customFields=function(){var a=c.get("CustomField"),b=a["::get::entry::customFields"];return b.apply(e,arguments)},e.customFields.count=function(){var a=c.get("CustomField"),b=a["::count::entry::customFields"];return b.apply(e,arguments)},e.customFields.create=function(){var a=c.get("CustomField"),b=a["::create::entry::customFields"];return b.apply(e,arguments)},e.customFields.createMany=function(){var a=c.get("CustomField"),b=a["::createMany::entry::customFields"];return b.apply(e,arguments)},e.customFields.destroyAll=function(){var a=c.get("CustomField"),b=a["::delete::entry::customFields"];return b.apply(e,arguments)},e.customFields.destroyById=function(){var a=c.get("CustomField"),b=a["::destroyById::entry::customFields"];return b.apply(e,arguments)},e.customFields.findById=function(){var a=c.get("CustomField"),b=a["::findById::entry::customFields"];return b.apply(e,arguments)},e.customFields.updateById=function(){var a=c.get("CustomField"),b=a["::updateById::entry::customFields"];return b.apply(e,arguments)},e}]),f.factory("CustomField",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/customFields/:id",{id:"@id"},{create:{url:d+"/customFields",method:"POST"},createMany:{isArray:!0,url:d+"/customFields",method:"POST"},upsert:{url:d+"/customFields",method:"PUT"},exists:{url:d+"/customFields/:id/exists",method:"GET"},findById:{url:d+"/customFields/:id",method:"GET"},find:{isArray:!0,url:d+"/customFields",method:"GET"},findOne:{url:d+"/customFields/findOne",method:"GET"},updateAll:{url:d+"/customFields/update",method:"POST"},deleteById:{url:d+"/customFields/:id",method:"DELETE"},count:{url:d+"/customFields/count",method:"GET"},prototype$updateAttributes:{url:d+"/customFields/:id",method:"PUT"},createChangeStream:{url:d+"/customFields/change-stream",method:"POST"},"::findById::entry::customFields":{params:{fk:"@fk"},url:d+"/entries/:id/customFields/:fk",method:"GET"},"::destroyById::entry::customFields":{params:{fk:"@fk"},url:d+"/entries/:id/customFields/:fk",method:"DELETE"},"::updateById::entry::customFields":{params:{fk:"@fk"},url:d+"/entries/:id/customFields/:fk",method:"PUT"},"::get::entry::customFields":{isArray:!0,url:d+"/entries/:id/customFields",method:"GET"},"::create::entry::customFields":{url:d+"/entries/:id/customFields",method:"POST"},"::createMany::entry::customFields":{isArray:!0,url:d+"/entries/:id/customFields",method:"POST"},"::delete::entry::customFields":{url:d+"/entries/:id/customFields",method:"DELETE"},"::count::entry::customFields":{url:d+"/entries/:id/customFields/count",method:"GET"},"::findById::EntryTemplate::customFields":{params:{fk:"@fk"},url:d+"/EntryTemplates/:id/customFields/:fk",method:"GET"},"::destroyById::EntryTemplate::customFields":{params:{fk:"@fk"},url:d+"/EntryTemplates/:id/customFields/:fk",method:"DELETE"},"::updateById::EntryTemplate::customFields":{params:{fk:"@fk"},url:d+"/EntryTemplates/:id/customFields/:fk",method:"PUT"},"::get::EntryTemplate::customFields":{isArray:!0,url:d+"/EntryTemplates/:id/customFields",method:"GET"},"::create::EntryTemplate::customFields":{url:d+"/EntryTemplates/:id/customFields",method:"POST"},"::createMany::EntryTemplate::customFields":{isArray:!0,url:d+"/EntryTemplates/:id/customFields",method:"POST"},"::delete::EntryTemplate::customFields":{url:d+"/EntryTemplates/:id/customFields",method:"DELETE"},"::count::EntryTemplate::customFields":{url:d+"/EntryTemplates/:id/customFields/count",method:"GET"}});return e.updateOrCreate=e.upsert,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.modelName="CustomField",e}]),f.factory("Organization",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/organizations/:id",{id:"@id"},{prototype$__findById__entries:{params:{fk:"@fk"},url:d+"/organizations/:id/entries/:fk",method:"GET"},prototype$__destroyById__entries:{params:{fk:"@fk"},url:d+"/organizations/:id/entries/:fk",method:"DELETE"},prototype$__updateById__entries:{params:{fk:"@fk"},url:d+"/organizations/:id/entries/:fk",method:"PUT"},prototype$__link__entries:{params:{fk:"@fk"},url:d+"/organizations/:id/entries/rel/:fk",method:"PUT"},prototype$__unlink__entries:{params:{fk:"@fk"},url:d+"/organizations/:id/entries/rel/:fk",method:"DELETE"},prototype$__exists__entries:{params:{fk:"@fk"},url:d+"/organizations/:id/entries/rel/:fk",method:"HEAD"},prototype$__findById__causes:{params:{fk:"@fk"},url:d+"/organizations/:id/causes/:fk",method:"GET"},prototype$__destroyById__causes:{params:{fk:"@fk"},url:d+"/organizations/:id/causes/:fk",method:"DELETE"},prototype$__updateById__causes:{params:{fk:"@fk"},url:d+"/organizations/:id/causes/:fk",method:"PUT"},prototype$__findById__admins:{params:{fk:"@fk"},url:d+"/organizations/:id/admins/:fk",method:"GET"},prototype$__destroyById__admins:{params:{fk:"@fk"},url:d+"/organizations/:id/admins/:fk",method:"DELETE"},prototype$__updateById__admins:{params:{fk:"@fk"},url:d+"/organizations/:id/admins/:fk",method:"PUT"},prototype$__get__entries:{isArray:!0,url:d+"/organizations/:id/entries",method:"GET"},prototype$__create__entries:{url:d+"/organizations/:id/entries",method:"POST"},prototype$__delete__entries:{url:d+"/organizations/:id/entries",method:"DELETE"},prototype$__count__entries:{url:d+"/organizations/:id/entries/count",method:"GET"},prototype$__get__causes:{isArray:!0,url:d+"/organizations/:id/causes",method:"GET"},prototype$__create__causes:{url:d+"/organizations/:id/causes",method:"POST"},prototype$__delete__causes:{url:d+"/organizations/:id/causes",method:"DELETE"},prototype$__count__causes:{url:d+"/organizations/:id/causes/count",method:"GET"},prototype$__get__admins:{isArray:!0,url:d+"/organizations/:id/admins",method:"GET"},prototype$__create__admins:{url:d+"/organizations/:id/admins",method:"POST"},prototype$__delete__admins:{url:d+"/organizations/:id/admins",method:"DELETE"},prototype$__count__admins:{url:d+"/organizations/:id/admins/count",method:"GET"},create:{url:d+"/organizations",method:"POST"},createMany:{isArray:!0,url:d+"/organizations",method:"POST"},upsert:{url:d+"/organizations",method:"PUT"},exists:{url:d+"/organizations/:id/exists",method:"GET"},findById:{url:d+"/organizations/:id",method:"GET"},find:{isArray:!0,url:d+"/organizations",method:"GET"},findOne:{url:d+"/organizations/findOne",method:"GET"},updateAll:{url:d+"/organizations/update",method:"POST"},deleteById:{url:d+"/organizations/:id",method:"DELETE"},count:{url:d+"/organizations/count",method:"GET"},prototype$updateAttributes:{url:d+"/organizations/:id",method:"PUT"},createChangeStream:{url:d+"/organizations/change-stream",method:"POST"},"::get::Cause::organization":{url:d+"/Causes/:id/organization",method:"GET"},"::get::admin::organization":{url:d+"/admins/:id/organization",method:"GET"}});return e.updateOrCreate=e.upsert,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.modelName="Organization",e.entries=function(){var a=c.get("Entry"),b=a["::get::organization::entries"];return b.apply(e,arguments)},e.entries.count=function(){var a=c.get("Entry"),b=a["::count::organization::entries"];return b.apply(e,arguments)},e.entries.create=function(){var a=c.get("Entry"),b=a["::create::organization::entries"];return b.apply(e,arguments)},e.entries.createMany=function(){var a=c.get("Entry"),b=a["::createMany::organization::entries"];return b.apply(e,arguments)},e.entries.destroyAll=function(){var a=c.get("Entry"),b=a["::delete::organization::entries"];return b.apply(e,arguments)},e.entries.destroyById=function(){var a=c.get("Entry"),b=a["::destroyById::organization::entries"];return b.apply(e,arguments)},e.entries.exists=function(){var a=c.get("Entry"),b=a["::exists::organization::entries"];return b.apply(e,arguments)},e.entries.findById=function(){var a=c.get("Entry"),b=a["::findById::organization::entries"];return b.apply(e,arguments)},e.entries.link=function(){var a=c.get("Entry"),b=a["::link::organization::entries"];return b.apply(e,arguments)},e.entries.unlink=function(){var a=c.get("Entry"),b=a["::unlink::organization::entries"];return b.apply(e,arguments)},e.entries.updateById=function(){var a=c.get("Entry"),b=a["::updateById::organization::entries"];return b.apply(e,arguments)},e.causes=function(){var a=c.get("Cause"),b=a["::get::organization::causes"];return b.apply(e,arguments)},e.causes.count=function(){var a=c.get("Cause"),b=a["::count::organization::causes"];return b.apply(e,arguments)},e.causes.create=function(){var a=c.get("Cause"),b=a["::create::organization::causes"];return b.apply(e,arguments)},e.causes.createMany=function(){var a=c.get("Cause"),b=a["::createMany::organization::causes"];return b.apply(e,arguments)},e.causes.destroyAll=function(){var a=c.get("Cause"),b=a["::delete::organization::causes"];return b.apply(e,arguments)},e.causes.destroyById=function(){var a=c.get("Cause"),b=a["::destroyById::organization::causes"];return b.apply(e,arguments)},e.causes.findById=function(){var a=c.get("Cause"),b=a["::findById::organization::causes"];return b.apply(e,arguments)},e.causes.updateById=function(){var a=c.get("Cause"),b=a["::updateById::organization::causes"];return b.apply(e,arguments)},e.admins=function(){var a=c.get("Admin"),b=a["::get::organization::admins"];return b.apply(e,arguments)},e.admins.count=function(){var a=c.get("Admin"),b=a["::count::organization::admins"];return b.apply(e,arguments)},e.admins.create=function(){var a=c.get("Admin"),b=a["::create::organization::admins"];return b.apply(e,arguments)},e.admins.createMany=function(){var a=c.get("Admin"),b=a["::createMany::organization::admins"];return b.apply(e,arguments)},e.admins.destroyAll=function(){var a=c.get("Admin"),b=a["::delete::organization::admins"];return b.apply(e,arguments)},e.admins.destroyById=function(){var a=c.get("Admin"),b=a["::destroyById::organization::admins"];return b.apply(e,arguments)},e.admins.findById=function(){var a=c.get("Admin"),b=a["::findById::organization::admins"];return b.apply(e,arguments)},e.admins.updateById=function(){var a=c.get("Admin"),b=a["::updateById::organization::admins"];return b.apply(e,arguments)},e}]),f.factory("Donation",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/Donations/:id",{id:"@id"},{prototype$__get__cause:{url:d+"/Donations/:id/cause",method:"GET"},prototype$__get__donor:{url:d+"/Donations/:id/donor",method:"GET"},create:{url:d+"/Donations",method:"POST"},createMany:{isArray:!0,url:d+"/Donations",method:"POST"},upsert:{url:d+"/Donations",method:"PUT"},exists:{url:d+"/Donations/:id/exists",method:"GET"},findById:{url:d+"/Donations/:id",method:"GET"},find:{isArray:!0,url:d+"/Donations",method:"GET"},findOne:{url:d+"/Donations/findOne",method:"GET"},updateAll:{url:d+"/Donations/update",method:"POST"},deleteById:{url:d+"/Donations/:id",method:"DELETE"},count:{url:d+"/Donations/count",method:"GET"},prototype$updateAttributes:{url:d+"/Donations/:id",method:"PUT"},createChangeStream:{url:d+"/Donations/change-stream",method:"POST"},addCard:{url:d+"/Donations/addCard",method:"POST"},"::findById::Cause::donations":{params:{fk:"@fk"},url:d+"/Causes/:id/donations/:fk",method:"GET"},"::destroyById::Cause::donations":{params:{fk:"@fk"},url:d+"/Causes/:id/donations/:fk",method:"DELETE"},"::updateById::Cause::donations":{params:{fk:"@fk"},url:d+"/Causes/:id/donations/:fk",method:"PUT"},"::link::Cause::donations":{params:{fk:"@fk"},url:d+"/Causes/:id/donations/rel/:fk",method:"PUT"},"::unlink::Cause::donations":{params:{fk:"@fk"},url:d+"/Causes/:id/donations/rel/:fk",method:"DELETE"},"::exists::Cause::donations":{params:{fk:"@fk"},url:d+"/Causes/:id/donations/rel/:fk",method:"HEAD"},"::get::Cause::donations":{isArray:!0,url:d+"/Causes/:id/donations",method:"GET"},"::create::Cause::donations":{url:d+"/Causes/:id/donations",method:"POST"},"::createMany::Cause::donations":{isArray:!0,url:d+"/Causes/:id/donations",method:"POST"},"::delete::Cause::donations":{url:d+"/Causes/:id/donations",method:"DELETE"},"::count::Cause::donations":{url:d+"/Causes/:id/donations/count",method:"GET"}});return e.updateOrCreate=e.upsert,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.modelName="Donation",e.cause=function(){var a=c.get("Cause"),b=a["::get::Donation::cause"];return b.apply(e,arguments)},e.donor=function(){var a=c.get("Donor"),b=a["::get::Donation::donor"];return b.apply(e,arguments)},e}]),f.factory("Admin",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/admins/:id",{id:"@id"},{prototype$__findById__accessTokens:{params:{fk:"@fk"},url:d+"/admins/:id/accessTokens/:fk",method:"GET"},prototype$__destroyById__accessTokens:{params:{fk:"@fk"},url:d+"/admins/:id/accessTokens/:fk",method:"DELETE"},prototype$__updateById__accessTokens:{params:{fk:"@fk"},url:d+"/admins/:id/accessTokens/:fk",method:"PUT"},prototype$__get__organization:{url:d+"/admins/:id/organization",method:"GET"},prototype$__get__accessTokens:{isArray:!0,url:d+"/admins/:id/accessTokens",method:"GET"},prototype$__create__accessTokens:{url:d+"/admins/:id/accessTokens",method:"POST"},prototype$__delete__accessTokens:{url:d+"/admins/:id/accessTokens",method:"DELETE"},prototype$__count__accessTokens:{url:d+"/admins/:id/accessTokens/count",method:"GET"},create:{url:d+"/admins",method:"POST"},createMany:{isArray:!0,url:d+"/admins",method:"POST"},upsert:{url:d+"/admins",method:"PUT"},exists:{url:d+"/admins/:id/exists",method:"GET"},findById:{url:d+"/admins/:id",method:"GET"},find:{isArray:!0,url:d+"/admins",method:"GET"},findOne:{url:d+"/admins/findOne",method:"GET"},updateAll:{url:d+"/admins/update",method:"POST"},deleteById:{url:d+"/admins/:id",method:"DELETE"},count:{url:d+"/admins/count",method:"GET"},prototype$updateAttributes:{url:d+"/admins/:id",method:"PUT"},createChangeStream:{url:d+"/admins/change-stream",method:"POST"},login:{params:{include:"user"},interceptor:{response:function(a){var c=a.data;return b.setUser(c.id,c.userId,c.user),b.rememberMe=a.config.params.rememberMe!==!1,b.save(),a.resource}},url:d+"/admins/login",method:"POST"},logout:{interceptor:{response:function(a){return b.clearUser(),b.clearStorage(),a.resource}},url:d+"/admins/logout",method:"POST"},confirm:{url:d+"/admins/confirm",method:"GET"},resetPassword:{url:d+"/admins/reset",method:"POST"},"::findById::organization::admins":{params:{fk:"@fk"},url:d+"/organizations/:id/admins/:fk",method:"GET"},"::destroyById::organization::admins":{params:{fk:"@fk"},url:d+"/organizations/:id/admins/:fk",method:"DELETE"},"::updateById::organization::admins":{params:{fk:"@fk"},url:d+"/organizations/:id/admins/:fk",method:"PUT"},"::get::organization::admins":{isArray:!0,url:d+"/organizations/:id/admins",method:"GET"},"::create::organization::admins":{url:d+"/organizations/:id/admins",method:"POST"},"::createMany::organization::admins":{isArray:!0,url:d+"/organizations/:id/admins",method:"POST"},"::delete::organization::admins":{url:d+"/organizations/:id/admins",method:"DELETE"},"::count::organization::admins":{url:d+"/organizations/:id/admins/count",method:"GET"},getCurrent:{url:d+"/admins/:id",method:"GET",params:{id:function(){var a=b.currentUserId;return null==a&&(a="__anonymous__"),a}},interceptor:{response:function(a){return b.currentUserData=a.data,a.resource}},__isGetCurrentUser__:!0}});return e.updateOrCreate=e.upsert,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.getCachedCurrent=function(){var a=b.currentUserData;return a?new e(a):null},e.isAuthenticated=function(){return null!=this.getCurrentId()},e.getCurrentId=function(){return b.currentUserId},e.modelName="Admin",e.organization=function(){var a=c.get("Organization"),b=a["::get::admin::organization"];return b.apply(e,arguments)},e}]),f.factory("EntryTemplate",["LoopBackResource","LoopBackAuth","$injector",function(a,b,c){var e=a(d+"/EntryTemplates/:id",{id:"@id"},{prototype$__findById__customFields:{params:{fk:"@fk"},url:d+"/EntryTemplates/:id/customFields/:fk",method:"GET"},prototype$__destroyById__customFields:{params:{fk:"@fk"},url:d+"/EntryTemplates/:id/customFields/:fk",method:"DELETE"},prototype$__updateById__customFields:{params:{fk:"@fk"},url:d+"/EntryTemplates/:id/customFields/:fk",method:"PUT"},prototype$__get__cause:{url:d+"/EntryTemplates/:id/cause",method:"GET"},prototype$__get__customFields:{isArray:!0,url:d+"/EntryTemplates/:id/customFields",method:"GET"},prototype$__create__customFields:{url:d+"/EntryTemplates/:id/customFields",method:"POST"},prototype$__delete__customFields:{url:d+"/EntryTemplates/:id/customFields",method:"DELETE"},prototype$__count__customFields:{url:d+"/EntryTemplates/:id/customFields/count",method:"GET"},create:{url:d+"/EntryTemplates",method:"POST"},createMany:{isArray:!0,url:d+"/EntryTemplates",method:"POST"},upsert:{url:d+"/EntryTemplates",method:"PUT"},exists:{url:d+"/EntryTemplates/:id/exists",method:"GET"},findById:{url:d+"/EntryTemplates/:id",method:"GET"},find:{isArray:!0,url:d+"/EntryTemplates",method:"GET"},findOne:{url:d+"/EntryTemplates/findOne",method:"GET"},updateAll:{url:d+"/EntryTemplates/update",method:"POST"},deleteById:{url:d+"/EntryTemplates/:id",method:"DELETE"},count:{url:d+"/EntryTemplates/count",method:"GET"},prototype$updateAttributes:{url:d+"/EntryTemplates/:id",method:"PUT"},createChangeStream:{url:d+"/EntryTemplates/change-stream",method:"POST"},"::get::Cause::entryTemplates":{url:d+"/Causes/:id/entryTemplates",method:"GET"},"::create::Cause::entryTemplates":{url:d+"/Causes/:id/entryTemplates",method:"POST"},"::createMany::Cause::entryTemplates":{isArray:!0,url:d+"/Causes/:id/entryTemplates",method:"POST"},"::update::Cause::entryTemplates":{url:d+"/Causes/:id/entryTemplates",method:"PUT"},"::destroy::Cause::entryTemplates":{url:d+"/Causes/:id/entryTemplates",method:"DELETE"}});return e.updateOrCreate=e.upsert,e.update=e.updateAll,e.destroyById=e.deleteById,e.removeById=e.deleteById,e.modelName="EntryTemplate",e.customFields=function(){var a=c.get("CustomField"),b=a["::get::EntryTemplate::customFields"];return b.apply(e,arguments)},e.customFields.count=function(){var a=c.get("CustomField"),b=a["::count::EntryTemplate::customFields"];return b.apply(e,arguments)},e.customFields.create=function(){var a=c.get("CustomField"),b=a["::create::EntryTemplate::customFields"];return b.apply(e,arguments)},e.customFields.createMany=function(){var a=c.get("CustomField"),b=a["::createMany::EntryTemplate::customFields"];return b.apply(e,arguments)},e.customFields.destroyAll=function(){var a=c.get("CustomField"),b=a["::delete::EntryTemplate::customFields"];return b.apply(e,arguments)},e.customFields.destroyById=function(){var a=c.get("CustomField"),b=a["::destroyById::EntryTemplate::customFields"];return b.apply(e,arguments)},e.customFields.findById=function(){var a=c.get("CustomField"),b=a["::findById::EntryTemplate::customFields"];return b.apply(e,arguments)},e.customFields.updateById=function(){var a=c.get("CustomField"),b=a["::updateById::EntryTemplate::customFields"];return b.apply(e,arguments)},e.cause=function(){var a=c.get("Cause"),b=a["::get::EntryTemplate::cause"];return b.apply(e,arguments)},e}]),f.factory("LoopBackAuth",function(){function a(){var a=this;e.forEach(function(b){a[b]=d(b)}),this.rememberMe=c,this.currentUserData=null}function b(a,b,c){var d=f+b;null==c&&(c=""),a[d]=c}function d(a){var b=f+a;return localStorage[b]||sessionStorage[b]||null}var e=["accessTokenId","currentUserId"],f="$LoopBack$";return a.prototype.save=function(){var a=this,c=this.rememberMe?localStorage:sessionStorage;e.forEach(function(d){b(c,d,a[d])})},a.prototype.setUser=function(a,b,c){this.accessTokenId=a,this.currentUserId=b,this.currentUserData=c},a.prototype.clearUser=function(){this.accessTokenId=null,this.currentUserId=null,this.currentUserData=null},a.prototype.clearStorage=function(){e.forEach(function(a){b(sessionStorage,a,null),b(localStorage,a,null)})},new a}).config(["$httpProvider",function(a){a.interceptors.push("LoopBackAuthRequestInterceptor")}]).factory("LoopBackAuthRequestInterceptor",["$q","LoopBackAuth",function(a,b){return{request:function(f){if(f.url.substr(0,d.length)!==d)return f;if(b.accessTokenId)f.headers[e]=b.accessTokenId;else if(f.__isGetCurrentUser__){var g={body:{error:{status:401}},status:401,config:f,headers:function(){return c}};return a.reject(g)}return f||a.when(f)}}}]).provider("LoopBackResource",function(){this.setAuthHeader=function(a){e=a},this.setUrlBase=function(a){d=a},this.getUrlBase=function(){return d},this.$get=["$resource",function(a){return function(b,c,d){var e=a(b,c,d);return e.prototype.$save=function(a,b){var c=e.upsert.call(this,{},this,a,b);return c.$promise||c},e}}]})}(window,window.angular),angular.module("dgAuth",["lbServices","LocalStorageModule","formly","ui.router"]).factory("AuthService",["$q","$rootScope","localStorageService","Admin",function(a,b,c,d){return b.$on("auth:login",function(){b.currentUser=c.get("currentUser")}),b.$on("auth:logout",function(){b.currentUser=null}),{login:function(e){var f=a.defer();return e?e.password&&e.email?e.password&&e.email&&d.login({email:e.email,password:e.password}).$promise.then(function(a){c.set("currentUser",{id:a.user.id,tokenId:a.id,email:a.user.email,organizationId:a.user.organizationId,stripeId:a.user.stripeId||null}),b.$broadcast("auth:login"),f.resolve(a)},function(a){f.reject(a)}):f.reject({error:"Login function requires user object with email and password. Received: "+JSON.stringify(e)}):f.reject({error:"Login function requires a user object, which was not received."}),f.promise},logout:function(){var e=a.defer();return d.logout().$promise.then(function(a){c.set("currentUser",null),b.$broadcast("auth:logout"),e.resolve(a)},function(a){e.reject(a)}),e.promise},register:function(b){var c=a.defer();return b&&b.email&&b.password?d.create(b).$promise.then(function(a){c.resolve(a)},function(a){c.reject(a)}):c.reject({error:"Registration requires a user object with email and password attributes."}),c.promise},isAuthenticated:function(){return d.isAuthenticated()}}}]),angular.module("dgAuth").factory("Seed",["Donor","Entry","Cause","Organization","Admin","ImpactGoal",function(a,b,c,d,e,f){return{it:function(){a.create({email:"test@test.gmail.com",password:"hi"}),a.create({email:"bob@burger.com",password:"hi"}),d.create({name:"Unicef",description:"The biggest boy on the playground.",location:"5.84978,10.32424"}).$promise.then(function(a){e.create({email:"d@delw.in",password:"hi",organizationId:a.id}),c.create({name:"Food for Children",featuredImage:"http://www.unicef.org.uk/Images/Media-medium-201x106/corporate-partners.jpg",position:"5.84978,10.32424",organizationId:a.id,totalGoal:0,goalText:"Here's the goal",aspiration:"End hunger",body:'A bunch of <strong>HTML-formatted</strong> text can make up this body, which will eventually come from a <a href="https://en.wikipedia.org/wiki/WYSIWYG">WYSIWYG</a> editor in the backend.',indexText:"This text will describe the cause on the index page"}).$promise.then(function(a){f.create({description:"Give a kid a food",name:"Feed a kid",amount:25,causeId:a.id})}),c.create({name:"Aqua Teen Hunger Force",featuredImage:"http://stuffpoint.com/aqua-teen-hunger-force/image/174063-aqua-teen-hunger-force-aqua-teen-hunger-force.jpg",position:"-14.340278,48.502778",organizationId:a.id,totalGoal:28e3,goalText:"This money will go directly towards television.",aspiration:"End aqua teen hunger",body:"Body text for the cause, can incorporate <em>fancy schmancy</em> <strong>HTML</strong>.",indexText:"Aqua Teen Hunger Force is an American animated television series created by Dave Willis and Matt Maiellaro for Cartoon Network's late night programming block, Adult Swim."})}),d.create({name:"charity:water",description:"Gonna help you with your thirst",location:"5.84978,10.32424"}).$promise.then(function(a){e.create({email:"ian.seyer@gmail.com",password:"hi",organizationId:a.id}),c.create({name:"Village Wells",featuredImage:"http://www.wvi.org/sites/default/files/styles/article_full/public/charity%20water%20photo%20Malawi.jpg",position:"5.84978,10.32424",organizationId:a.id,totalGoal:0,goalText:"Here's the goal",aspiration:"End thirst",body:'A bunch of <strong>HTML-formatted</strong> text can make up this body, which will eventually come from a <a href="https://en.wikipedia.org/wiki/WYSIWYG">WYSIWYG</a> editor in the backend.',indexText:"Villages need wells, because humans need water!"}).$promise.then(function(a){f.create({description:"Build a village well",name:"Village well",amount:250,causeId:a.id})}),c.create({name:"Master Shake's Danger Cave",featuredImage:"https://joshuscat.files.wordpress.com/2011/06/aquateen_vol1_mastershake.jpg",position:"-14.340278,48.502778",organizationId:a.id,totalGoal:55e4,goalText:"Help Master Shake build a danger cave",aspiration:"End aqua teen thirst",body:'<p>Master Shake is a lazy, selfish, arrogant life-sized anthropomorphic milkshake, who is a pathological liar and frequently torments Meatwad and annoys the rest of the characters for attention. Although his full name is Master Shake, he is mainly called "Shake" and in "Last Last One Forever and Ever" he is known as "Don Shake". Master Shake was created and designed by series creators Dave Willis and Matt Maiellaro, and is voiced by Dana Snyder.</p><p>Like the other main characters, Frylock and Meatwad, Master Shake first appeared in the Space Ghost Coast to Coast episode "Baffler Meal", and then made his first official appearance in the show\'s first episode, "Rabbot". Master Shake was originally voiced by Dave Willis in "Baffler Meal" and was performed as a live action person by Jon Benjamin in the season six episode "Last Last One Forever and Ever". Master Shake has appeared in several video games and albums relating to the series including the 2007 film Aqua Teen Hunger Force Colon Movie Film for Theaters. Shake has also made cameos in promotional material and other media outside of the series.',indexText:"Master Shake is a lazy, selfish, arrogant life-sized anthropomorphic milkshake, who is a pathological liar and frequently torments Meatwad and annoys the rest of the characters for attention."
})})}}}]),angular.module("dgAuth").controller("LoginCtrl",["$scope","AuthService","$state","localStorageService","Seed",function(a,b,c,d,e){a.user={},a.loginError={},a.login=function(){b.login(a.user).then(function(){c.go("admin.dashboard")},function(b){console.log(b),a.loginError=b.data})},a.seedIt=function(){e.it()}}]),angular.module("dgAuth").controller("SignUpCtrl",["$scope","AuthService","$state","localStorageService","Organization","Admin",function(a,b,c,d,e,f){a.organization={admin:{}},a.organizationFields=[{key:"name",type:"input",templateOptions:{label:"Organization Name",placeholder:"Organization Name",required:!0}},{key:"description",type:"textarea",templateOptions:{label:"Description",required:!0}},{key:"location.lat",type:"input",templateOptions:{label:"Latitude",placeholder:"48.502778"}},{key:"location.lng",type:"input",templateOptions:{label:"Longitude",placeholder:"48.502778"}},{noFormControl:!0,template:"<p>Create an admin user for your organization.</p>"},{key:"admin.name",type:"input",templateOptions:{label:"Admin Name"}},{key:"admin.email",type:"input",templateOptions:{label:"Admin Email",required:!0}},{key:"admin.password",type:"input",templateOptions:{label:"Admin Password",required:!0},ngModelElAttrs:{type:"password"}},{key:"admin.password2",type:"input",templateOptions:{label:"Confirm admin password",required:!0},ngModelElAttrs:{type:"password"},validators:{matchesPassword:function(b,c){var d=b||c;return console.log(d),console.log(a.organization.admin.password),d===a.organization.admin.password}}}];var g=function(a){var b={name:a.name,description:a.description,location:a.location};return e.create(b).$promise},h=function(b){var c={name:a.organization.admin.name,email:a.organization.admin.email,password:a.organization.admin.password,organizationId:b.id};return f.create(c).$promise};a.submitForm=function(){g(a.organization).then(function(d){h(d).then(function(){b.login({email:a.organization.admin.email,password:a.organization.admin.password}).then(function(){c.go("admin.dashboard")})})})}}]),angular.module("dgAdminApp").controller("AdminCtrl",["$scope","$state","$rootScope","localStorageService","AuthService",function(a,b,c,d,e){d.get("currentUser")?c.currentUser=d.get("currentUser"):b.go("login"),a.menu=[{label:"Dashboard",state:"admin.dashboard"},{label:"Organization",state:"admin.organization"},{label:"Causes",state:"admin.causes"},{label:"Entries",state:"admin.entries"}],a.formActive=function(){return b.includes("new")||b.includes("edit")},a.isActive=function(a){return b.includes(a.state)},a.logout=function(){e.logout().then(function(){b.go("login")},function(){d.set("currentUser",void 0),c.currentUser=null,b.go("login")})}}]),angular.module("dgAdminApp").controller("OrganizationCtrl",["$scope","$rootScope","organization","Organization",function(a,b,c,d){a.organization=c,a.saved=!1,a.saving=!1,a.organizationFields=[{key:"name",type:"input",templateOptions:{label:"Organization Name",placeholder:"Organization Name",required:!0}},{key:"description",type:"texteditor",templateOptions:{label:"Description",required:!0}},{key:"location.lat",type:"input",templateOptions:{label:"Latitude",placeholder:"48.502778"}},{key:"location.lng",type:"input",templateOptions:{label:"Longitude",placeholder:"48.502778"}}],a.$watch("organization",function(b,c){b!==c&&(a.saved=!1)},!0),a.save=function(){console.log("saving"),a.saved=!1,a.saving=!0,d.upsert(a.organization).$promise.then(function(){a.saved=!0,a.saving=!1})}}]),angular.module("dgAdminApp").controller("EntryListCtrl",["$scope","$rootScope","$state","Entry","Cause","entries",function(a,b,c,d,e,f){a.entries=f,a.loading=!1,b.$on("entries:updated",function(){a.loading=!0,a.entries=d.find({}).$promise.then(function(){a.loading=!1})}),a.formActive=function(){return c.includes("admin.entries.new")||c.includes("admin.entries.edit")}}]).controller("EntryFormCtrl",["$scope","$rootScope","$state","Entry","entry","Cause",function(a,b,c,d,e,f){a.entry=e,a.entryFields=[{key:"causeId",type:"select",templateOptions:{label:"Cause",options:f.find({filter:{where:{organizationId:b.currentUser.organizationId}}}),labelProp:"name",valueProp:"id"}},{key:"title",type:"input",templateOptions:{label:"Title",placeholder:"Title",required:!0}},{key:"body",type:"texteditor",templateOptions:{label:"Content",required:!0}},{key:"location.lat",type:"input",templateOptions:{label:"Latitude",placeholder:"48.502778"}},{key:"location.lng",type:"input",templateOptions:{label:"Longitude",placeholder:"48.502778"}},{key:"individual",type:"checkbox",templateOptions:{label:"Individual post"}},{key:"public",type:"checkbox",templateOptions:{label:"Show publically"}}],a.onSubmit=function(){d.updateOrCreate(a.entry).$promise.then(function(){b.$broadcast("entries:updated"),c.go("admin.entries")})}}]),angular.module("dgAdminApp").controller("CauseListCtrl",["$scope","$rootScope","$state","causes","Cause","localStorageService",function(a,b,c,d,e,f){a.causes=d,a.loading=!1,b.$on("causes:updated",function(){a.loading=!0,a.causes=e.find({filter:{where:{organizationId:f.get("currentUser").organizationId}}},function(){a.loading=!1})}),a.formActive=function(){return c.includes("admin.causes.new")||c.includes("admin.causes.edit")}}]).controller("CauseFormCtrl",["$scope","$rootScope","cause","impactGoal","Cause","ImpactGoal","$state","$window",function(a,b,c,d,e,f,g,h){a.cause=c,c.name&&(d&&!a.cause.totalGoal?(a.impactGoal=d,a.cause.impactGoal=!0,a.cause.goalAmount=d.amount):(a.impactGoal={},a.cause.impactGoal=!1,a.cause.goalAmount=a.cause.totalGoal||"")),a.causeFields=[{key:"name",type:"input",templateOptions:{label:"Title",placeholder:"Title",required:!0}},{key:"featuredImage",type:"input",templateOptions:{label:"Featured Image",placeholder:"Paste URL here",required:!0}},{key:"position.lat",type:"input",templateOptions:{label:"Latitude",placeholder:"48.502778"}},{key:"position.lng",type:"input",templateOptions:{label:"Longitude",placeholder:"48.502778"}},{key:"aspiration",type:"input",templateOptions:{label:"Aspiration"}},{key:"indexText",type:"textarea",templateOptions:{label:"Index Text",required:!0}},{key:"body",type:"texteditor",templateOptions:{label:"Content",required:!0}},{key:"goalAmount",type:"input",templateOptions:{label:"Goal amount"}},{key:"goalText",type:"input",templateOptions:{label:"Goal description",description:"Appears near the donate button, underneath the goal amount."}},{key:"impactGoal",type:"checkbox",templateOptions:{label:"Impact Goal?",description:"If checked, users get updates depending on how much they have donated."}}],a.deleteCause=function(c){return c.id?void(h.confirm("Are you sure?")&&(e.deleteById({id:c.id}).$promise.then(function(){b.$broadcast("causes:updated"),g.go("admin.causes")}),d.id&&f.deleteById({id:a.impactGoal.id}))):!1},a.onSubmit=function(){var c;a.cause.impactGoal?(c=a.cause.goalAmount,a.cause.totalGoal=0):a.cause.totalGoal=a.cause.goalAmount,delete a.cause.impactGoal,delete a.cause.goalAmount,a.cause.organizationId=b.currentUser.organizationId,e.updateOrCreate(a.cause).$promise.then(function(a){c?f.updateOrCreate({amount:c,causeId:a.id}).$promise.then(function(){b.$broadcast("causes:updated"),g.go("admin.causes")}):(b.$broadcast("causes:updated"),g.go("admin.causes"))})}}]),angular.module("dgAdminApp").controller("DashboardCtrl",function(){}),angular.module("dgAdminApp").run(["$templateCache",function(a){a.put("views/about.html","<p>This is the about view.</p>"),a.put("views/admin.html",'<!-- Main Header --> <header class="main-header"> <a ui-sref="admin.dashboard" class="logo"> <span class="logo-mini"><strong>DG</strong></span> <span class="logo-lg"><strong>DirectGiving</strong> Admin</span> </a> <!-- Header Navbar --> <nav class="navbar navbar-static-top" role="navigation"> <!-- Sidebar toggle button--> <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button"> <span class="sr-only">Toggle navigation</span> </a> <!-- Navbar Right Menu --> <div class="navbar-custom-menu"> <ul class="nav navbar-nav"> <li> <a ng-click="logout()" href>Logout</a> </li> <li> <a href="#" data-toggle="control-sidebar"><i class="fa fa-gears"></i></a> </li> </ul> </div> </nav> </header> <aside class="main-sidebar"> <section class="sidebar"> <!-- Sidebar Menu --> <ul class="sidebar-menu"> <li ng-repeat="item in menu" ng-class="{ \'active\': isActive(item) }"><a ui-sref="{{ item.state }}">{{ item.label }}</a></li> </ul><!-- /.sidebar-menu --> </section> <!-- /.sidebar --> </aside> <div ui-view="adminContent" class="content-wrapper"></div> <!-- Main Footer --> <footer class="main-footer"> <!-- To the right --> <div class="pull-right hidden-xs"> Don\'t waste your time. </div> <!-- Default to the left --> <strong>Copyright &copy; 2015 <a href="#">Misfit, Inc.</a></strong> All rights reserved. </footer>'),a.put("views/causes.form.html",'<div class="box box-primary"> <div class="box-header with-border"> <h3> <span ng-if="cause.id">Edit Cause</span> <span ng-if="!cause.id">Add Cause</span> </h3> <div class="box-tools pull-right"> <button class="btn btn-box-tool" ui-sref="admin.causes"><i class="fa fa-times"></i></button> </div> </div> <div class="box-body"> <form ng-submit="onSubmit()"> <formly-form model="cause" fields="causeFields"> <button type="button" ui-sref="admin.causes" class="btn btn-default"> Cancel </button> <button ng-if="cause.id" type="button" ng-click="deleteCause(cause)" class="btn btn-danger"> Delete </button> <button type="submit" class="btn btn-primary pull-right"> <span ng-if="cause.id">Save</span> <span ng-if="!cause.id">Create</span> </button> </formly-form> </form> </div> </div>'),a.put("views/causes.list.html",'<header class="content-header row"> <h1 class="col-xs-8">Causes</h1> <div class="actions text-right col-xs-4"> <a class="btn btn-primary" ui-sref="admin.causes.new">+ Add New</a> </div> </header> <div class="content"> <div class="row"> <div ng-class="{ \'col-xs-6\': formActive(), \'col-xs-12\': !formActive() }"> <div class="box box-primary"> <div class="box-header with-border"> <h3 class="box-title">Browse Causes</h3> <div class="box-tools pull-right"> <div class="has-feedback"> <input type="text" class="form-control input-sm" placeholder="Filter..." ng-model="search"> <span class="glyphicon glyphicon-search form-control-feedback"></span> </div> </div> </div> <div class="box-body"> <div class="loader" ng-show="loading || !causes.length"> <i class="fa fa-circle-o-notch fa-spin" ng-show="loading"></i> <p ng-show="!causes.length && !loading"><small>NO CAUSES</small></p> </div> <table class="table" ng-show="causes.length && !loading"> <thead> <tr> <th>Date Created</th> <th>Name</th> <th>Aspiration</th> </tr> </thead> <tbody> <tr ng-repeat="cause in causes | filter: search" href ui-sref="admin.causes.edit({ causeId: cause.id })"> <td>{{ cause.createdAt | date }}</td> <td>{{ cause.name }}</td> <td>{{ cause.aspiration }}</td> </tr> </tbody> </table> </div> </div> </div> <div ng-show="formActive()" class="col-xs-6"> <div ui-view></div> </div> </div> </div>'),a.put("views/dashboard.html",'<header class="content-header"> <h1>Dashboard</h1> </header> <section class="content"> Why don\'t you do something with your life? </section>'),a.put("views/entries.form.html",'<div class="box box-primary"> <div class="box-header with-border"> <h3> <span ng-if="entry.id">Edit Entry</span> <span ng-if="!entry.id">Add Entry</span> </h3> <div class="box-tools pull-right"> <button class="btn btn-box-tool" ui-sref="admin.entries"><i class="fa fa-times"></i></button> </div> </div> <div class="box-body"> <form ng-submit="onSubmit()"> <formly-form model="entry" fields="entryFields"> <button type="button" ui-sref="admin.entries" class="btn btn-default"> Cancel </button> <button ng-if="cause.id" type="button" ng-click="deleteCause(cause)" class="btn btn-danger"> Delete </button> <button type="submit" class="btn btn-primary pull-right"> <span ng-if="entry.id">Save</span> <span ng-if="!entry.id">Create</span> </button> </formly-form> </form> </div> </div>'),a.put("views/entries.list.html",'<header class="content-header row"> <h1 class="col-xs-8">Entries</h1> <div class="actions text-right col-xs-4"> <a class="btn btn-primary" ui-sref="admin.entries.new">+ Add New</a> </div> </header> <div class="content"> <div class="row"> <div ng-class="{ \'col-xs-6\': formActive(), \'col-xs-12\': !formActive() }"> <div class="box box-primary"> <div class="box-header with-border"> <h3 class="box-title">Browse Entries</h3> <div class="box-tools pull-right"> <div class="has-feedback"> <input type="text" class="form-control input-sm" placeholder="Filter..." ng-model="search"> <span class="glyphicon glyphicon-search form-control-feedback"></span> </div> </div> </div> <div class="box-body"> <div class="loader" ng-show="loading || !entries.length"> <i class="fa fa-circle-o-notch fa-spin" ng-show="loading"></i> <p ng-show="!entries.length && !loading"><small>NO ENTRIES</small></p> </div> <table class="table" ng-show="entries.length && !loading"> <thead> <tr> <th>Date Created</th> <th>Type</th> <th>Title</th> <th>Cause</th> </tr> </thead> <tbody> <tr ng-repeat="entry in entries | filter: search" ui-sref="admin.entries.edit({ entryId: entry.id })"> <td>{{ entry.createdAt | date }}</td> <td> <span ng-if="entry.individual">Individual</span> <span ng-if="entry.public">Public</span> <span ng-if="!entry.public && !entry.individual">Donors Only</span> </td> <td>{{ entry.title }}</td> <td>{{ entry.causeId }}</td> </tr> </tbody> </table> </div> </div> </div> <div ng-show="formActive()" class="col-xs-6"> <div ui-view></div> </div> </div> </div>'),a.put("views/login.html",'<div class="login-box"> <div class="login-logo"> <b>DirectGiving</b> Admin </div><!-- /.login-logo --> <div class="login-box-body"> <p class="login-box-msg"></p> <form novalidate ng-submit="login()"> <div class="form-group has-feedback"> <input type="email" ng-model="user.email" class="form-control" placeholder="Email"> <span class="glyphicon glyphicon-envelope form-control-feedback"></span> </div> <div class="form-group has-feedback"> <input type="password" ng-model="user.password" class="form-control" placeholder="Password"> <span class="glyphicon glyphicon-lock form-control-feedback"></span> </div> <div class="row"> <div class="col-xs-7 col-xs-offset-1"> <div class="checkbox icheck"> <label> <input type="checkbox"> Remember Me </label> </div> </div><!-- /.col --> <div class="col-xs-4"> <button type="submit" class="btn btn-primary btn-block btn-flat">Sign In</button> </div><!-- /.col --> </div> </form> <p><a href="#">Forgot password?</a></p> <p><a href ng-click="seedIt()">Ian deleted the database?</a></p> <p><a ui-sref="signup">New Organization</a></p> </div><!-- /.login-box-body --> </div><!-- /.login-box -->'),a.put("views/main.html",'<div class="jumbotron"> <h1>\'Allo, \'Allo!</h1> <p class="lead"> <img src="images/yeoman.42092f92.png" alt="I\'m Yeoman"><br> Always a pleasure scaffolding your apps. </p> <p><a class="btn btn-lg btn-success" ng-href="#/">Splendid!<span class="glyphicon glyphicon-ok"></span></a></p> </div> <div class="row marketing"> <h4>HTML5 Boilerplate</h4> <p> HTML5 Boilerplate is a professional front-end template for building fast, robust, and adaptable web apps or sites. </p> <h4>Angular</h4> <p> AngularJS is a toolset for building the framework most suited to your application development. </p> <h4>Karma</h4> <p>Spectacular Test Runner for JavaScript.</p> </div>'),a.put("views/organization.html",'<header class="content-header row"> <h1 class="col-xs-8">Organization</h1> </header> <div class="content"> <div class="row"> <div class="col-xs-12"> <div class="box box-primary"> <div class="box-header with-border"> <h3>Your Organization</h3> </div> <div class="box-body"> <form ng-submit="save()"> <formly-form model="organization" fields="organizationFields"> <button type="submit" class="btn btn-primary pull-right">Save</button> <p ng-show="saved"><small>Saved <i class="fa fa-check"></i></small></p> <p ng-show="saving"><small>Saving ...<i class="fa fa-circle-o-notch fa-spin"></i></small></p> </formly-form> </form> </div> </div> </div> </div> </div>'),a.put("views/signup.html",'<div class="login-box"> <div class="login-logo"> <b>DirectGiving</b> Admin </div><!-- /.login-logo --> <div class="login-box-body"> <p class="login-box-msg"> <a ui-sref="login">Already have an account? Log in here.</a> </p> <form ng-submit="submitForm()"> <formly-form model="organization" fields="organizationFields"> <button type="submit" class="btn btn-primary pull-right">Sign Up</button> </formly-form> </form> </div><!-- /.login-box-body --> </div><!-- /.login-box -->')}]);